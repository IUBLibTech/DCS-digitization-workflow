{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "https://dlib.indiana.edu/dwim/schemas/media/umatic-media@v1",
    
    "title": "U-matic",
    "description": "U-matic",
    "type": "object",
    "additionalProperties": false,
    "required": ["system", "media_type", "title", "barcode", 
                 "digitizer", "digitization_date",
                 "physical_details", "problems"],
    "properties": {
        "system": {
            "title": "System Information",
            "type": "object",
            "required": ["schema_id", "profile", "project_id", "physical_object_id"],
            "properties": {    
                "schema_id": {
                    "const": "media/umatic-media@v1"
                },        
                "profile": {
                    "title": "Profile name",
                    "type": "string"
                },
                "project_id": {
                    "title": "Project ID",
                    "description": "The unique ID that represents this project",
                    "type": "string"
                },
                "physical_object_id": {
                    "title": "Physical Object ID",
                    "description": "The ID for the physical object that this describes",
                    "type": "string"
                }
            }
        },
        "media_type": {
            "title": "Media Type",
            "description": "Media Type",
            "const": "umatic"
        },
        "title": {
            "title": "Title",
            "description": "Title of the physical media if it differs from the project",
            "type": "string",            
            "default": "SAME"
        },
        "barcode": {
            "title":  "Identifier",
            "description": "Identifier (such as a barcode) for the object",
            "type": "string",
            "default": "no identifier"
        },
        "digitizer": {
            "title": "Digitizer",
            "description": "username of the person doing the digitization",
            "type": "string"
        },
        "digitization_date": {
            "title": "Digitization Date",
            "description":  "Date the object was digitized",
            "type": "string",
            "format": "date"
        },
        "physical_details": {
            "title": "Physical Details",
            "description": "Details about the physical media",
            "type": "object",
            "additionalProperties": false,
            "required": ["tape_brand", "format_duration", "size", "comments"],
            "properties": {
                "tape_brand": {
                    "title": "Tape brand",
                    "description": "Brand/manufacturer of the tape",
                    "type": "string"
                },
                "format_duration": {
                    "title": "Format duration",
                    "description": "The nominal duration of the media",
                    "type": "string"
                },        
                "size": {
                    "title": "Carrier Size",
                    "description": "Size of carrier",
                    "enum": ["large", "small"],
                    "default": "large"
                },
                "comments": {
                    "title": "Comments",
                    "description": "Comments noting anything unusual about the media",
                    "type": "string",
                    "default": "no comment"           
                }
            }
        },
        "problems": {
            "title": "Problems",
            "description": "Problems with the physical media that may impair capture",
            "type": "object",
            "additionalProperties": false,
            "required": ["preservation_problems", "cleaned", "baked"],
            "properties": {
                "preservation_problems": {
                    "title": "Preservation Problems",
                    "description": "Details of preservation problems with the media",
                    "type": "string",
                    "default": "n/a"
                },
                "cleaned": {
                    "title": "Cleaning date",
                    "type": "string",
                    "default": "n/a"
                },
                "baked": {
                    "title": "Baking date",
                    "type": "string",
                    "default": "n/a"
                }

            }
        }
    }
}       
