{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "https://dlib.indiana.edu/dcs/schemas/analog_sound_disc",
    
    "analog_sound_disc": {
    
        "title": "Analog Sound Disc",
        "description": "Analog sound disc-specific bits for the core schema",
        "type": "object",
        
        "required": [
            "media_type",
            "position",
            "diameter", "recording_method", "material", "substrate", "coating",
            "condition_evaluation",
            "sequences"
        ],
        "properties": {
            "media_type": {
                "title": "Media Type",
                "description": "Media Type",
                "type": "string",
                "enum": ["45", "78", "Aluminum Disc", "Lacquer Disc", "LP", "Other Analog Sound Disc"],
                "default": "unspecified"
            },
            "position": {
                "$ref": "common.json#/position"
            },
            "diameter": {
                "title": "Disc Diameter",
                "type": "number",
                "minimum": 1,
                "default": 7
            },

            "recording_method": {
                "title": "Recording Method",
                "type": "string",
                "enum": ["pressed", "cut", "pregrooved", "unknown"],
                "default": "unknown"
            },
            "material": {
                "title": "Disc Material",
                "type": "string",
                "enum": ["plastic", "shellac", "n/a", "unknown"],
                "default": "unknown"
            },
            "substrate": {
                "title": "Substrate",
                "type": "string",
                "enum": ["n/a", "aluminum", "glass", "fiber", "steel", "unknown"],
                "default": "n/a/"
            },
            "coating": {
                "title": "Coating",
                "type": "string",
                "enum": ["n/a", "lacquer", "none", "unknown"],
                "default": "n/a"
            }, 

            "condition_evaluation": {
                "title": "Conservation Concerns",
                "description": "Media evaluation and remediations",
                "type": "object",
                
                "required": ["remediation_notes", "delamination", "exudation", "oxidation", "cracked",
                            "warped", "dirty", "scratched", "worn", "broken", "fungus"],
                "properties": {
                    "delamination": {"type": "boolean", "default": "false", "title": "delamination"},
                    "exudation": {"type": "boolean", "default": "false", "title": "exudation"},
                    "oxidation": {"type": "boolean", "default": "false", "title": "oxidation"},
                    "cracked": {"type": "boolean", "default": "false", "title": "cracked"},
                    "warped": {"type": "boolean", "default": "false", "title": "warped"},
                    "dirty": {"type": "boolean", "default": "false", "title": "dirty"},
                    "scratched": {"type": "boolean", "default": "false", "title": "scratched"},
                    "worn": {"type": "boolean", "default": "false", "title": "worn"},
                    "broken": {"type": "boolean", "default": "false", "title": "broken"},
                    "fungus": {"type": "boolean", "default": "false", "title": "fungus"},
                    "remediation_notes": {
                        "title": "Remediation Notes",
                        "description": "Notes and actions for remediation of concerns",
                        "type": "string",
                        "default": "No Remediation"
                    },
                    "flags": {
                        "title": "Condition Flags",
                        "description": "Conditions that the media has",
                        "type": "array",
                        "uniqueItems": true,
                        "minContains": 1,
                        "items": {
                            "type": "string",
                            "enum": [
                                "delamination",
                                "exudation",
                                "oxidation",
                                "cracked", 
                                "scratched",
                                "warped"
                            ]
                        }
                    },
                    "scales": {
                        "title": "Evaluation Scales",
                        "description":  "Things that use scales",
                        "type": "object",
                        
                        "propertyNames": {
                            "enum": ["a", "b", "c"]
                        },
                        "patternProperties": {
                            ".": {"type": "integer",
                                  "minimum": 0,
                                "maximum": 4}
                        }
                    }

                }
            },

            "sequences": {
                "title": "Digitized Disc Sequences",
                "description": "Sequences digitized",
                "type": "array",
                "minContains": 1,
                "unevaluatedProperties": false,
                "items": {"allOf": [
                {                   
                    "title": "Disc Digitization Sequence",
                    "description": "Digitized file",
                    "type": "object",
                    
                    "required": ["id", "speed", "sound_field", "stylus_size", "groove_size", "groove_orientation", "equalization"],
                    "properties": {                        
                        "id": {
                            "title": "Sequence ID",
                            "description": "Something to indicate what the file represents, such as 'side 1'",
                            "type": "string"
                        },
                        "speed": {
                            "title": "Media Speed",
                            "description": "media speed",
                            "type": "string",
                            "enum": ["33.3", "45", "78", "Unknown", "Mixed"],
                            "default": "33.3"
                        },

                        "sound_field": {"$ref": "common.json#/sound_field"},

                        "stylus_size": {
                            "title": "Stylus Size",
                            "description": "Size of stylus used for digitization",
                            "type": "number",
                            "default": 0
                        },

                        "groove_size": {
                            "title": "Groove Size",
                            "type": "string",
                            "enum": ["micro", "coarse", "unknown"],
                            "default": "unknown"
                        },
                        "groove_orientation": {
                            "title": "Groove Orientation",
                            "type": "string",
                            "enum": ["lateral", "vertical", "unknown"],
                            "default": "unknown"
                        },
                        "equalization": {
                            "title": "Equalization",
                            "type": "string",
                            "enum": ["NAB", "RIAA" ,"Other", "CCIR", "Unknown", "ffrr LP 1953", "NAB+80Hz", "BSI", "Early DECCA", "COLUMBIA", 
                                    "ffrr 1949", "US MID 30", "WESTREX", "FLAT"],
                            "default": "Unknown"
                        }                        
                    }
                },
                {"$ref": "common.json#/sequence_base"}
                ]
                }
            }
        }
    }
}
